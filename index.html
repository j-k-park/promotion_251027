<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>논문 시각화: 생성형 AI는 학습에 해로울 수 있음</title>
    <link rel="icon" type="image/x-icon" href="https://ivy-rugby-daf.notion.site/image/attachment%3A7f4c07dc-527d-49c7-a230-f78eeafc8f9d%3A%ED%95%99%EA%B5%90-%EB%A1%9C%EA%B3%A0-_%EB%B0%B0%EA%B2%BD%EC%A0%9C%EA%B1%B0_.ico?table=block&id=28e3ec20-06d9-80a5-8ad5-d2de53e59be4&spaceId=a57f2ff5-0671-465c-bf6a-c699bdf0fd16&userId=&cache=v2">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&family=Noto+Serif+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8f5f2; /* 따뜻한 미색 배경 */
        }
        .font-noto-serif {
            font-family: 'Noto Serif KR', serif;
        }
        /* 차트 바 애니메이션 */
        .chart-bar {
            transition: width 1.5s ease-in-out;
            width: 0%;
        }
        .chart-bar-negative {
            transition: width 1.5s ease-in-out, background-color 1.5s ease-in-out;
            width: 0%;
        }
        .section-card {
            background-color: white;
            border-radius: 0.75rem; /* rounded-xl */
            border: 1px solid #e5e7eb; /* border-gray-200 */
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); /* shadow-md */
        }
    </style>
</head>
<body class="text-gray-700">

    <div class="container mx-auto p-4 md:p-8">
        <!-- 페이지 헤더 -->
        <header class="mb-12">
            <div class="text-center">
                <div class="flex justify-center items-center mb-2">
                    <img src="https://www.svgrepo.com/show/486520/ai.svg" alt="AI Icon" class="w-16 h-15 mr-4">
                    <h1 class="text-4xl md:text-4xl font-bold text-gray-800">
                        2024~2025 
                        <span class="text-orange-500">AI디지털 선도학교</span> / 
                        <span class="text-teal-600">AI정보교육 운영중심교</span>
                    </h1>
                </div>
                <p id="paper-info-toggle" class="text-lg text-gray-600 cursor-pointer hover:text-teal-600 transition-colors inline-block">Hamsa Bastani, Osbert Bastani, Alp Sungu 외 연구 논문 ▼</p>
                <p class="text-lg text-gray-600 mt-4"><br><span class="text-2xl font-bold">Title : '생성형 AI는 학습에 해로울 수 있다' <i class="italic font-noto-serif">(AI Can Harm Learning)</i> </span></p>
            </div>
            <div class="text-right mt-2">
                <div>
                    <p id="teacher-info-toggle" class="text-lg text-gray-600 mb-2 cursor-pointer hover:text-teal-600 transition-colors"><br>호남고등학교 교육정보부장 교사 박정교 ▼</p>
                </div>
                <div class="inline-flex flex-col items-end">
                    <div class="mb-2">
                        <img src="https://ivy-rugby-daf.notion.site/image/attachment%3A3a199f97-f1d4-405b-856d-1eb38e8402f2%3A%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7-2025-10-10-214714.svg?table=block&id=2883ec20-06d9-802c-8879-f10a58613375&spaceId=a57f2ff5-0671-465c-bf6a-c699bdf0fd16&userId=&cache=v2" alt="Honam Region Logo" class="w-[9.25rem] h-auto">
                    </div>
                    <div class="flex items-center">
                        <img src="https://www.svgrepo.com/show/530598/building.svg" alt="School Icon" class="h-10 w-10 mr-2">
                        <a href="https://drive.google.com/file/d/1jLfzLZFFiIzhcmUnKrqcrqEyQ3ZahC9S/view?usp=sharing" target="_blank" rel="noopener noreferrer" class="inline-block bg-teal-600 text-white font-bold py-2 px-4 rounded hover:bg-teal-700 transition-colors">
                            원본 논문 다운받기
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <main>
            <!-- 섹션 1: 연구 질문 -->
            <section class="mb-16 p-8 section-card">
                <h2 class="text-3xl font-bold text-center mb-6 text-teal-700">AI는 학습의 친구인가, 적인가?</h2>
                <div class="text-center mt-2">
                    <p id="mom-toggle" class="text-sm text-gray-500 cursor-pointer hover:text-teal-600 inline-block">엄마한테는? ▼</p>
                </div>
                <div id="mom-images-container" class="hidden mt-6 flex flex-row flex-wrap justify-center items-start gap-4">
                    <img src="https://ivy-rugby-daf.notion.site/image/attachment%3Aa960131a-f134-4dd5-94b5-9c1acdebd104%3AGemini_Generated_Image_fhxvzofhxvzofhxv.png?table=block&id=28c3ec20-06d9-8025-8a86-d1814f00fcf1&spaceId=a57f2ff5-0671-465c-bf6a-c699bdf0fd16&width=660&userId=&cache=v2" alt="엄마 이미지 1" class="mom-image hidden h-auto rounded-lg shadow-md flex-1 max-w-sm" style="min-width: 200px;">
                    <img src="https://ivy-rugby-daf.notion.site/image/attachment%3Ae694d86c-eb27-4431-b11b-015ebde30c13%3A%EA%B9%80%ED%9D%AC%EC%84%A0_%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C.webp?table=block&id=28c3ec20-06d9-806f-94f0-eae54564aba6&spaceId=a57f2ff5-0671-465c-bf6a-c699bdf0fd16&width=660&userId=&cache=v2" alt="엄마 이미지 2" class="mom-image hidden h-auto rounded-lg shadow-md flex-1 max-w-sm" style="min-width: 200px;">
                    <img id="video-trigger-mom" src="https://ivy-rugby-daf.notion.site/image/attachment%3A6c44a533-0bf7-406c-aed0-ee46b2fc12d9%3AGemini_Generated_Image_lw69b6lw69b6lw69.png?table=block&id=28c3ec20-06d9-80a4-a3bc-f9f74cdab320&spaceId=a57f2ff5-0671-465c-bf6a-c699bdf0fd16&width=1420&userId=&cache=v2" alt="엄마 이미지 3" class="mom-image hidden h-auto rounded-lg shadow-md cursor-pointer flex-1 max-w-sm" style="min-width: 200px;">
                </div>
                <p class="text-lg max-w-3xl mx-auto text-center leading-relaxed mt-6">
                      &nbsp;&nbsp;생성형 AI는 <strong>학생들의 학업</strong>을 크게 높여줄 잠재력을 가짐. <br>하지만, <strong>'학습' 과정에는 어떤 영향</strong>을 미치는지에 대한 의문이 있음. <br>특히, 교사의 역할이 중요할 때, <strong>AI에 대한 의존</strong>이 장기적으로 학습을 저해하지는 않는지 <strong>확인 필요</strong>함. <br>
                      본 연구는 바로 이 질문에 대한 답을 찾고자 했으며, 우리 <strong>호남고도 관심</strong> 가지고 있음.
                </p>
            </section>

            <!-- 섹션 2: 실험 설계 -->
            <section class="mb-16">
                <h2 class="text-3xl font-bold text-center mb-8 text-gray-800">실험 설계 [<span class="text-red-600">약 1,000명 고등학생</span> 대상]</h2>
                <div class="grid md:grid-cols-3 gap-8">
                    <!-- Control Group -->
                    <div class="p-6 section-card hover:shadow-lg transition-shadow">
                        <div class="flex items-center justify-center w-16 h-16 rounded-full bg-slate-100 mb-4 mx-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-book text-slate-500" viewBox="0 0 16 16">
                                <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.823c-.942-.35-2.167-.67-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-center mb-2 text-gray-800">통제 집단 (Control)</h3>
                        <p class="text-center text-gray-600">AI 없이 교과서와 노트만 사용하여<br>
                         수학 문제 풀게 함.</p>
                    </div>
                    <!-- GPT Base Group -->
                    <div class="p-6 section-card hover:shadow-lg transition-shadow">
                        <div class="flex items-center justify-center w-16 h-16 rounded-full bg-orange-100 mb-4 mx-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-robot text-orange-500" viewBox="0 0 16 16">
                                <path d="M6 12.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5ZM3 8.062C3 6.76 4.235 5.765 5.53 5.886a26.58 26.58 0 0 0 4.94 0C11.765 5.765 13 6.76 13 8.062v1.157a.933.933 0 0 1-.765.935c-.845.147-2.34.346-4.235.346-1.895 0-3.39-.2-4.235-.346A.933.933 0 0 1 3 9.219V8.062Zm4.542-.827a.25.25 0 0 0-.217.068l-.92.9a24.767 24.767 0 0 1-1.871-.183.25.25 0 0 0-.068.495c.55.076 1.232.149 2.02.193a.25.25 0 0 0 .189-.071l.754-.736.847 1.07a.25.25 0 0 0 .404.062l.932-.97a25.286 25.286 0 0 0-1.922-.188.25.25 0 0 0-.068.495c.538.074 1.207.145 1.943.188a.25.25 0 0 0 .189-.071l.754-.736.847 1.07a.25.25 0 0 0 .404.062l.932-.97a25.286 25.286 0 0 0-1.922-.188.25.25 0 0 0-.217.068l-.92.9a24.767 24.767 0 0 1-1.871-.183.25.25 0 0 0-.068.495c.55.076 1.232.149 2.02.193a.25.25 0 0 0 .189-.071l.754-.736.847 1.07a.25.25 0 0 0 .404.062l.932-.97a25.286 25.286 0 0 0-1.922-.188Z"/>
                                <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1Zm3.5 3v1h-7V4H1.5a.5.5 0 0 0 0 1h.034l.002.002.002.002.006.003a18.638 18.638 0 0 0 3.202 1.23.25.25 0 0 0 .13.043h4.218a.25.25 0 0 0 .13-.043c1.028-.32 2.122-.81 3.202-1.23l.006-.003.002-.002.002-.002h.034a.5.5 0 0 0 0-1h-2Z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-center mb-2 text-gray-800">GPT-BASE 집단</h3>
                        <p class="text-center text-gray-600">기본 Chat GPT-4 모델 사용하여 <br>
                        문제 풀이 도움 받게함.</p>
                    </div>
                    <!-- GPT Tutor Group -->
                    <div class="p-6 section-card hover:shadow-lg transition-shadow">
                        <div class="flex items-center justify-center w-16 h-16 rounded-full bg-teal-100 mb-4 mx-auto">
                           <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-person-check text-teal-600" viewBox="0 0 16 16">
                                <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514ZM11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"/>
                                <path d="M8.256 14a4.474 4.474 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10c.26 0 .507.009.74.025.226-.341.496-.65.804-.918C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4s1 1 6 1h2.256Z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-center mb-2 text-gray-800">GPT-TUTOR 집단</h3>
                        <p class="text-center text-gray-600">학습 보호 장치 추가된 GPT-4 사용. <br>(정답 직접 제공 방지, 힌트 위주)</p>
                    </div>
                </div>
            </section>

            <!-- 섹션 3: 충격적인 결과 -->
            <section class="mb-16 p-8 section-card">
                <h2 class="text-3xl font-bold text-center mb-10 text-gray-800">결과: 단기적 성능 vs 장기적 학습</h2>
                <div class="grid md:grid-cols-2 gap-8 md:gap-12">
                    <!-- Practice Performance -->
                    <div>
                        <h3 class="text-2xl font-bold text-center mb-6 text-gray-800">1. AI와 함께 문제 풀이 시 (연습 성적)</h3>
                        <div class="space-y-4">
                            <!-- GPT Tutor -->
                            <div class="result-bar">
                                <div class="flex justify-between mb-1">
                                    <span class="text-base font-medium text-teal-800">GPT-TUTOR</span>
                                    <span class="text-sm font-medium text-teal-800">+127%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-6">
                                    <div id="bar1" class="chart-bar bg-teal-600 h-6 rounded-full" data-width="100%"></div>
                                </div>
                            </div>
                            <!-- GPT Base -->
                            <div class="result-bar">
                                <div class="flex justify-between mb-1">
                                    <span class="text-base font-medium text-orange-800">GPT-BASE</span>
                                    <span class="text-sm font-medium text-orange-800">+48%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-6">
                                    <div id="bar2" class="chart-bar bg-orange-500 h-6 rounded-full" data-width="62.3%"></div>
                                </div>
                            </div>
                             <!-- Control -->
                            <div class="result-bar">
                                <div class="flex justify-between mb-1">
                                    <span class="text-base font-medium text-gray-700">통제 집단</span>
                                    <span class="text-sm font-medium text-gray-700">기준</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-6">
                                    <div id="bar3" class="chart-bar bg-gray-400 h-6 rounded-full" data-width="44%"></div>
                                </div>
                            </div>
                        </div>
                        <p class="mt-4 text-center text-gray-600">AI 도움 받았을 때 모든 학생의 성적 크게 향상되었음. <br>특히 학습 보호 장치 있는 <strong>GPT-TUTOR</strong> 효과 압도적이었음.</p>
                    </div>
                    <!-- Exam Performance -->
                    <div>
                        <h3 class="text-2xl font-bold text-center mb-6 text-gray-800">2. AI 없이 시험 진행 시 (시험 성적)</h3>
                         <div class="space-y-4">
                            <!-- GPT Tutor -->
                            <div class="result-bar">
                                <div class="flex justify-between mb-1">
                                    <span class="text-base font-medium text-teal-800">GPT-TUTOR</span>
                                    <span class="text-sm font-medium text-teal-800">~0%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-6">
                                    <div id="bar4" class="chart-bar bg-teal-600 h-6 rounded-full" data-width="50%"></div>
                                </div>
                            </div>
                            <!-- GPT Base -->
                            <div class="result-bar">
                                <div class="flex justify-between mb-1">
                                    <span class="text-base font-medium text-red-700">GPT-BASE</span>
                                    <span class="text-sm font-medium text-red-700">-17%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-6">
                                     <div id="bar5" class="chart-bar-negative bg-red-600 h-6 rounded-full" data-width="41.5%"></div>
                                </div>
                            </div>
                             <!-- Control -->
                            <div class="result-bar">
                                <div class="flex justify-between mb-1">
                                    <span class="text-base font-medium text-gray-700">통제 집단</span>
                                    <span class="text-sm font-medium text-gray-700">기준</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-6">
                                    <div id="bar6" class="chart-bar bg-gray-400 h-6 rounded-full" data-width="50%"></div>
                                </div>
                            </div>
                        </div>
                        <p class="mt-4 text-center text-gray-600">그러나 AI 없이 시험을 보자 결과 역전됨. <br>일반 AI 사용한 <strong>GPT-BASE</strong> 집단은 오히려 성적 <strong>17% 하락</strong> <br>학습에 해가 되었음을 보여줌.</p>
                    </div>
                </div>
            </section>
            
            <!-- 섹션 4: 왜? '목발' 효과 -->
            <section class="mb-16">
                <h2 class="text-3xl font-bold text-center mb-4 text-gray-800">결과 원인 분석</h2>
                <p class="text-xl text-center text-gray-600 mb-8">핵심은 <strong>'어떻게' AI를 사용했는가</strong>에 있었음.</p>
                <div class="p-8 grid md:grid-cols-2 gap-8 items-center section-card">
                    <div>
                        <h3 class="text-2xl font-bold mb-4 text-teal-700">"목발" 효과 (The "Crutch" Effect)</h3>
                        <p class="mb-4"><strong>GPT-BASE</strong> 집단 학생들은 <br> AI를 '생각하는 도구'가 아닌 <strong>'정답 자판기'처럼 사용</strong>했음. 단순히 정답을 물어보고 베끼는 데 그쳐, 문제 해결 과정을 깊이 고민하고 학습할 기회를 놓쳤음.</p>
                        <p>반면, <strong>GPT-TUTOR</strong>는 <br>정답을 바로 알려주지 않고 힌트를 주며 <strong>학생 스스로 생각하도록 유도</strong>했으며, 이것이 학습 저해를 막는 핵심이었음.</p>
                    </div>
                    <div class="w-full">
                        <h4 class="text-lg font-bold text-center mb-3">GPT AI와 대화 유형 분석</h4>
                        <div class="relative h-64">
                            <!-- GPT-BASE Data -->
                            <div class="absolute bottom-0 left-1/4 w-1/4 h-24 bg-orange-200 rounded-t-lg flex items-end justify-center pb-2 text-orange-800 font-bold text-center">
                                <span class="text-sm md:text-base">깊이 있는 질문<br>(25%)</span>
                            </div>
                             <div class="absolute bottom-0 left-0 w-1/4 h-56 bg-orange-500 rounded-t-lg flex items-end justify-center pb-2 text-white font-bold text-center">
                                <span class="text-sm md:text-base">단순히 답 요구<br>(75%)</span>
                            </div>
                            <p class="absolute -bottom-6 left-0 w-1/2 text-center text-lg font-semibold">GPT-BASE</p>

                            <!-- GPT-TUTOR Data -->
                            <div class="absolute bottom-0 right-1/4 w-1/4 h-48 bg-teal-500 rounded-t-lg flex items-end justify-center pb-2 text-white font-bold text-center">
                               <span class="text-sm md:text-base">깊이 있는 질문<br>(65%)</span>
                            </div>
                             <div class="absolute bottom-0 right-0 w-1/4 h-32 bg-teal-200 rounded-t-lg flex items-end justify-center pb-2 text-teal-800 font-bold text-center">
                                <span class="text-sm md:text-base">단순히 답 요구<br>(35%)</span>
                            </div>
                             <p class="absolute -bottom-6 right-0 w-1/2 text-center text-lg font-semibold">GPT-TUTOR</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 섹션 5: AI 튜터 직접 체험하기 ✨ -->
            <section class="mb-16">
                <h2 class="text-3xl font-bold text-center mb-8 text-gray-800">🤖 AI 튜터 (GPT-Tutor) 직접 체험하기 ✨</h2>
                <div class="p-8 section-card">
                    <p class="text-center text-lg mb-2">아래 수학 문제를 두 가지 다른 AI 튜터와 함께 풀어보며 차이점을 느껴보세요.</p>
                    <p class="text-center text-xl font-bold bg-gray-100 p-4 rounded-lg mb-8">문제: 점 A(-2, 3)을 지나고 직선 2x - 3y + 5 = 0 에 평행한 직선의 방정식을 구하시오.</p>
                    
                    <div class="grid md:grid-cols-2 gap-8">
                        <!-- GPT-BASE 시뮬레이터 -->
                        <div>
                            <h3 class="text-2xl font-bold text-center mb-4 text-gray-800">GPT-BASE (정답 제공형)</h3>
                            <div class="border rounded-lg p-4 h-96 flex flex-col bg-gray-50">
                                <div id="base-chat-window" class="flex-grow overflow-y-auto mb-4 space-y-2 flex flex-col">
                                    <!-- Chat messages will appear here -->
                                </div>
                                <div class="flex">
                                    <input type="text" id="base-chat-input" class="flex-grow border rounded-l-md p-2 focus:ring-orange-500 focus:border-orange-500" placeholder="메시지를 입력하세요...">
                                    <button id="base-chat-send" class="bg-orange-600 text-white px-4 rounded-r-md hover:bg-orange-700 font-bold">전송</button>
                                </div>
                            </div>
                        </div>

                        <!-- GPT-TUTOR 시뮬레이터 -->
                        <div>
                            <h3 class="text-2xl font-bold text-center mb-4 text-gray-800">GPT-TUTOR (힌트 제공형)</h3>
                             <div class="border rounded-lg p-4 h-96 flex flex-col bg-gray-50">
                                <div id="tutor-chat-window" class="flex-grow overflow-y-auto mb-4 space-y-2 flex flex-col">
                                    <!-- Chat messages will appear here -->
                                </div>
                                <div class="flex">
                                    <input type="text" id="tutor-chat-input" class="flex-grow border rounded-l-md p-2 focus:ring-teal-500 focus:border-teal-500" placeholder="메시지를 입력하세요...">
                                    <button id="tutor-chat-send" class="bg-teal-600 text-white px-4 rounded-r-md hover:bg-teal-700 font-bold">전송</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>


             <!-- 섹션 6: 결론 -->
            <section class="p-8 section-card">
                <h2 class="text-3xl font-bold text-center mb-6 text-teal-700">결 론</h2>
                <div class="text-lg max-w-3xl mx-auto text-center leading-relaxed">
                    <p>
                        생성형 AI는 잘 사용하면 <strong>강력한 학습 보조 도구</strong>가 될 수 있으나, 보호 장치 없이 제공될 경우 <br>
                        학생들이 생각하는 과정을 생략하게 만들어 오히려 장기적인 학습 능력을 저해하는 '독'이 될 수 있음. <br><br>
                    </p>
                    <p id="honam-research-toggle" class="cursor-pointer hover:text-teal-600 transition-colors">
                        <strong>호남고등학교는 교육을 위해 AI를 활용시, <br>단순히 기술 제공하는 것 넘어 '어떻게 학습을 촉진할 것인가'에 고민하면서 연구하고 있습니다. ▼</strong>
                    </p>
                    <div id="honam-research-image" class="hidden mt-4">
                        <img src="https://ivy-rugby-daf.notion.site/image/attachment%3A7831ed2b-6850-4a58-8bfd-b0befd62f044%3A9b516f4e-95c9-41db-80ac-596d424b4635.png?table=block&id=28c3ec20-06d9-8015-a1a5-fc7e300fc00c&spaceId=a57f2ff5-0671-465c-bf6a-c699bdf0fd16&width=1420&userId=&cache=v2" alt="호남고등학교 연구 이미지" class="w-full h-auto rounded-lg shadow-md">
                    </div>
                </div>
            </section>

            <!-- 추가된 이미지 섹션 -->
            <section class="mt-16 text-center">
                <div class="flex justify-center">
                    <img id="final-image-trigger" src="https://ivy-rugby-daf.notion.site/image/attachment%3A239f8821-44b3-4980-8782-f7da1fa670f2%3Ahonam.svg?table=block&id=2883ec20-06d9-8011-819f-cafe0ff0d565&spaceId=a57f2ff5-0671-465c-bf6a-c699bdf0fd16&userId=&cache=v2" alt="Honam Region Logo" class="w-1/2 h-auto cursor-pointer">
                </div>
            </section>
        </main>
    </div>
    
    <!-- 교사 정보 팝업 모달 -->
    <div id="teacher-info-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center p-4">
        <div class="bg-white p-4 sm:p-6 rounded-lg shadow-xl relative max-w-3xl w-full">
            <button id="modal-close-button" class="absolute top-2 right-3 text-gray-500 hover:text-gray-900 text-4xl font-bold">&times;</button>
            <img src="https://ivy-rugby-daf.notion.site/image/attachment%3A228b2a90-27d2-444a-9079-7052d93603d4%3Aimage.png?table=block&id=28c3ec20-06d9-80f5-b119-d70931799873&spaceId=a57f2ff5-0671-465c-bf6a-c699bdf0fd16&width=1420&userId=&cache=v2" alt="교사 정보" class="w-full h-auto rounded-lg">
            <div class="text-center mt-4">
                <a href="https://www.mjjnews.net/news/article.html?no=45776" target="_blank" rel="noopener noreferrer" class="text-teal-600 hover:text-teal-800 underline font-semibold">
                    관련 기사 보러가기
                </a>
            </div>
        </div>
    </div>
    
    <!-- 논문 요약 이미지 팝업 모달 -->
    <div id="summary-image-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center p-4">
        <div class="bg-white p-4 sm:p-6 rounded-lg shadow-xl relative max-w-4xl w-full">
            <button id="summary-modal-close-button" class="absolute top-2 right-3 text-gray-500 hover:text-gray-900 text-4xl font-bold">&times;</button>
            <img src="https://ivy-rugby-daf.notion.site/image/attachment%3A246ec5ad-d895-4dcb-bef4-eed8e73771c5%3Aimage.png?table=block&id=28b3ec20-06d9-80bb-8520-e3d435537185&spaceId=a57f2ff5-0671-465c-bf6a-c699bdf0fd16&width=1420&userId=&cache=v2" alt="논문 요약 이미지" class="w-full h-auto rounded-lg">
        </div>
    </div>

    <!-- 비디오 팝업 모달 -->
    <div id="video-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center p-4">
        <div class="bg-black p-1 rounded-lg shadow-xl relative w-11/12 h-5/6">
            <button id="video-modal-close-button" class="absolute -top-4 -right-4 text-white bg-gray-800 rounded-full h-10 w-10 flex items-center justify-center text-3xl font-bold z-10">&times;</button>
            <iframe id="popup-video" class="w-full h-full rounded-lg" src="https://www.youtube.com/embed/Pn5Nkkfx9fk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
        </div>
    </div>


    <script>
        // Intersection Observer for chart animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const bars = entry.target.querySelectorAll('.chart-bar, .chart-bar-negative');
                    bars.forEach(bar => {
                        bar.style.width = bar.dataset.width;
                    });
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.5 });

        const resultSections = document.querySelectorAll('.result-bar');
        resultSections.forEach(section => {
             observer.observe(section.parentElement.parentElement);
        });

        // Gemini API Integration
        const baseChatWindow = document.getElementById('base-chat-window');
        const baseChatInput = document.getElementById('base-chat-input');
        const baseChatSend = document.getElementById('base-chat-send');

        const tutorChatWindow = document.getElementById('tutor-chat-window');
        const tutorChatInput = document.getElementById('tutor-chat-input');
        const tutorChatSend = document.getElementById('tutor-chat-send');

        const mathProblem = "문제: 점 A(-2, 3)을 지나고 직선 2x - 3y + 5 = 0 에 평행한 직선의 방정식을 구하시오.";

        const systemPromptBase = `You are GPT-BASE, an AI assistant. Your goal is to give the user the direct and complete answer to their math problem. Speak in Korean. Do not provide hints or explanations unless asked. Just solve the problem for them. The problem is: ${mathProblem}`;

        const systemPromptTutor = `You are GPT-TUTOR, an expert Socratic tutor. Your goal is to help a high school student understand how to solve the math problem. Speak in Korean. **Do not give them the final answer or the full solution.** Instead, guide them with incremental hints and ask questions to make them think. If they are stuck, ask them to show their work so far. Encourage them. The problem is: ${mathProblem}`;

        const addMessage = (window, message, sender) => {
            const messageElement = document.createElement('div');
            messageElement.classList.add('p-3', 'rounded-lg', 'max-w-xs', 'break-words');
            if (sender === 'user') {
                messageElement.classList.add('bg-teal-600', 'text-white', 'self-end', 'ml-auto');
            } else {
                messageElement.classList.add('bg-gray-200', 'text-gray-800', 'self-start', 'mr-auto');
            }
            messageElement.textContent = message;
            window.appendChild(messageElement);
            window.scrollTop = window.scrollHeight;
        };

        const showLoading = (window) => {
            const loadingElement = document.createElement('div');
            loadingElement.id = `loading-${window.id}`;
            loadingElement.classList.add('p-3', 'rounded-lg', 'bg-gray-200', 'text-gray-500', 'self-start', 'mr-auto', 'italic');
            loadingElement.textContent = 'AI가 생각 중입니다...';
            window.appendChild(loadingElement);
            window.scrollTop = window.scrollHeight;
        };

        const hideLoading = (window) => {
            const loadingElement = document.getElementById(`loading-${window.id}`);
            if (loadingElement) {
                window.removeChild(loadingElement);
            }
        };

        const callGemini = async (userPrompt, systemPrompt, chatWindow) => {
            showLoading(chatWindow);

            const apiKey = "AIzaSyAvzAJ1YR-nlgTIinhHapo18lJM5X5oPx8"; // Per instructions, left empty for Canvas injection.
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            const payload = {
                contents: [{ parts: [{ text: userPrompt }] }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };
            
            let retries = 3;
            let delay = 1000;

            while (retries > 0) {
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        if (response.status === 429) { // Too Many Requests
                           console.log(`Rate limited. Retrying in ${delay / 1000}s...`);
                           await new Promise(res => setTimeout(res, delay));
                           delay *= 2; // Exponential backoff
                           retries--;
                           continue; // Retry the request
                        }
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const result = await response.json();
                    const candidate = result.candidates?.[0];

                    hideLoading(chatWindow);

                    if (candidate && candidate.content?.parts?.[0]?.text) {
                        addMessage(chatWindow, candidate.content.parts[0].text, 'ai');
                    } else {
                        addMessage(chatWindow, "죄송합니다, 답변을 생성하는 데 문제가 발생했습니다.", 'ai');
                        console.error("API response was empty or malformed:", result);
                    }
                    return; // Exit loop on success

                } catch (error) {
                    console.error("Error calling Gemini API:", error);
                    retries--;
                    if (retries === 0) {
                        hideLoading(chatWindow);
                        addMessage(chatWindow, "죄송합니다, API 호출 중 오류가 발생했습니다.", 'ai');
                    } else {
                         await new Promise(res => setTimeout(res, delay));
                         delay *= 2;
                    }
                }
            }
        };

        const handleSend = (input, window, systemPrompt) => {
            const userMessage = input.value.trim();
            if (userMessage) {
                addMessage(window, userMessage, 'user');
                callGemini(userMessage, systemPrompt, window);
                input.value = '';
            }
        };

        baseChatSend.addEventListener('click', () => handleSend(baseChatInput, baseChatWindow, systemPromptBase));
        baseChatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') handleSend(baseChatInput, baseChatWindow, systemPromptBase);
        });

        tutorChatSend.addEventListener('click', () => handleSend(tutorChatInput, tutorChatWindow, systemPromptTutor));
        tutorChatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') handleSend(tutorChatInput, tutorChatWindow, systemPromptTutor);
        });
        
        // Modal for teacher info
        const teacherInfoToggle = document.getElementById('teacher-info-toggle');
        const teacherInfoModal = document.getElementById('teacher-info-modal');
        const modalCloseButton = document.getElementById('modal-close-button');

        const openModal = () => teacherInfoModal.classList.remove('hidden');
        const closeModal = () => teacherInfoModal.classList.add('hidden');

        if(teacherInfoToggle && teacherInfoModal && modalCloseButton) {
            teacherInfoToggle.addEventListener('click', openModal);
            modalCloseButton.addEventListener('click', closeModal);
            
            teacherInfoModal.addEventListener('click', (event) => {
                if (event.target === teacherInfoModal) {
                    closeModal();
                }
            });
        }
        
        // Modal for summary image
        const paperInfoToggle = document.getElementById('paper-info-toggle');
        const summaryImageModal = document.getElementById('summary-image-modal');
        const summaryModalCloseButton = document.getElementById('summary-modal-close-button');

        if (paperInfoToggle && summaryImageModal && summaryModalCloseButton) {
            paperInfoToggle.addEventListener('click', () => summaryImageModal.classList.remove('hidden'));
            summaryModalCloseButton.addEventListener('click', () => summaryImageModal.classList.add('hidden'));
            summaryImageModal.addEventListener('click', (event) => {
                if (event.target === summaryImageModal) {
                    summaryImageModal.classList.add('hidden');
                }
            });
        }
        
        // Toggle for Honam research info
        const honamResearchToggle = document.getElementById('honam-research-toggle');
        const honamResearchImage = document.getElementById('honam-research-image');

        if (honamResearchToggle && honamResearchImage) {
            honamResearchToggle.addEventListener('click', () => {
                honamResearchImage.classList.toggle('hidden');
            });
        }
        
        // Toggle for Mom images
        const momToggle = document.getElementById('mom-toggle');
        const momImagesContainer = document.getElementById('mom-images-container');
        const momImages = momImagesContainer.querySelectorAll('.mom-image');
        let visibleMomImageCount = 0; 

        if (momToggle && momImagesContainer && momImages.length > 0) {
            
            momImages.forEach(img => img.classList.add('hidden'));

            momToggle.addEventListener('click', () => {
                const isContainerHidden = momImagesContainer.classList.contains('hidden');
                
                if (isContainerHidden) {
                    // 섹션이 닫혀 있으면 열고 첫 번째 이미지를 표시합니다.
                    momImagesContainer.classList.remove('hidden');
                    momImages[0].classList.remove('hidden');
                    visibleMomImageCount = 1;
                    momToggle.innerHTML = '엄마한테는? ▲';
                } else {
                    // 섹션이 열려 있으면 더 많은 이미지를 표시할지 또는 닫을지 결정합니다.
                    if (visibleMomImageCount < momImages.length) {
                        // 표시할 이미지가 더 있으면 다음 이미지를 표시합니다.
                        momImages[visibleMomImageCount].classList.remove('hidden');
                        visibleMomImageCount++;
                    } else {
                        // 모든 이미지가 보이면 전체 섹션을 축소합니다.
                        momImagesContainer.classList.add('hidden');
                        // 다음에 열릴 때를 위해 상태를 재설정합니다.
                        momImages.forEach(img => img.classList.add('hidden')); 
                        visibleMomImageCount = 0;
                        momToggle.innerHTML = '엄마한테는? ▼';
                    }
                }
            });
        }

        // Video Modal Logic (Unified for all triggers)
        const videoModal = document.getElementById('video-modal');
        const videoModalCloseButton = document.getElementById('video-modal-close-button');
        const popupVideoFrame = document.getElementById('popup-video');
        const originalVideoSrc = popupVideoFrame ? popupVideoFrame.src : '';

        // Triggers for the video modal
        const videoTriggerMom = document.getElementById('video-trigger-mom');
        const finalImageTrigger = document.getElementById('final-image-trigger');

        const openVideoModal = () => {
            // Restore the src if it was cleared
            if (popupVideoFrame.src !== originalVideoSrc) {
                popupVideoFrame.src = originalVideoSrc;
            }
            videoModal.classList.remove('hidden');
        };

        const closeVideoModal = () => {
            videoModal.classList.add('hidden');
            // Clear the src to stop the YouTube video
            popupVideoFrame.src = '';
        };

        // Assign event listeners to triggers
        if (videoTriggerMom) {
            videoTriggerMom.addEventListener('click', openVideoModal);
        }
        if (finalImageTrigger) {
            finalImageTrigger.addEventListener('click', openVideoModal);
        }

        // Assign event listeners for closing the modal
        if (videoModalCloseButton && videoModal) {
            videoModalCloseButton.addEventListener('click', closeVideoModal);
            videoModal.addEventListener('click', (event) => {
                if (event.target === videoModal) {
                    closeVideoModal();
                }
            });
        }

        // Initial messages
        addMessage(baseChatWindow, '안녕하세요! 무엇을 도와드릴까요?', 'ai');
        addMessage(tutorChatWindow, '안녕하세요! 이 문제를 어떻게 풀 수 있을지 함께 고민해볼까요? 먼저 어디서부터 시작해볼까요?', 'ai');
    </script>
</body>
</html>

